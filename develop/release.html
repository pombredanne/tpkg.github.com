<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>tpkg: Application packaging and deployment</title>
  </head>

  <body>
    <div id="container">
      <div class="sidebar">
        <strong>Documents:</strong>
        <ul>
          <li><a href="get_started.html">Get started</a></li>
          <li><a href="configure.html">Configure</a></li>
          <li><a href="package.html">Package</a></li>
          <li><a href="third_party.html">Package 3rd party apps</a></li>
          <li><a href="deploy.html">Deploy</a></li>
          <li><a href="package_server.html">Package server</a></li>
          <li><a href="reporting_server.html">Reporting server</a></li>
          <li><a href="production.html">Production</a></li>
          <li><a href="externals.html">Externals</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="develop/">Develop</a></li>
        </ul>
      </div>
      
      <div class="center">
        <div class="inner">

          <header>
            <h1>tpkg</h1>
            <h2>Application packaging and deployment</h2>
          </header>

          <hr>

          <section id="main_content">
            <p>
This page documents the process of releasing a new version of tpkg to the public.
</p>

<h2>Client</h2>

<ul>
  <li>Make sure your changes are checked in</li>
  <li>Make sure the code passes the test suite by running <tt>rake test</tt></li>
  <li>Update version in VERSION file, commit</li>
  <li>Tag the release with <tt>git tag -a v2.0.0</tt></li>
  <li>Push your tag to github with <tt>git push --tags</tt></li>

  <li>Run <tt>rake dist</tt> (you can just skip through the PGP/GPG step for now if you don't have a public PGP key)</li>
  <li>Go to the <a href="https://sourceforge.net/projects/tpkg/files">project file manager</a></li>
  <li>Open the tpkg folder</li>
  <li>Choose Add Folder, name it with the version number</li>
  <li>Open the new folder</li>
  <li>Upload the release tarball and the checksum files</li>
  <li>Click the i icon next to the tarball, click the Select All link under Default Download, click Save</li>
  <li>Go to Develop-&gt;Project Admin-&gt;Feature Settings-&gt;<a href="https://sourceforge.net/news/submit.php?group_id=245750">Project News Submit</a> from the <a href="http://sourceforge.net/projects/tpkg">project page</a> and submit a little blurb about the release</li>
  <li>Go to the <a href="http://freshmeat.net/projects/tpkg">tpkg page</a> on freshmeat, hit the Submit a release link and add the release
    <ul>
      <li>Generally you can use the same text for project news and freshmeat.  Freshmeat requires a conversational writeup, which works well for the project news blurb as well</li>
    </ul>
  </li>
  <li>Send an email to <a href="https://lists.sourceforge.net/lists/listinfo/tpkg-users">tpkg-users</a> announcing the release.  This will generally be more verbose and technical than the SF news and freshmeat blurbs.</li>
  <li>Change to tag directory and run <tt>rake macport</tt></li>
  <li>Submit <a href="https://trac.macports.org/newticket">MacPorts ticket</a> requesting update of tpkg port, attach a diff of $PWD/Portfile and the generated $TMPDIR/Portfile</li>
  <li>Copy $TMPDIR/Portfile to trunk and commit to subversion</li>
  <li>Change to tag directory and run <tt>rake gem</tt></li>
  <li><tt>gem push $TMPDIR/tpkg-version.gem</tt></li>
</ul>

          </section>

        </div>
      </div>

      <section id="downloads" class="clearfix">
        <a href="https://github.com/tpkg" id="view-on-github" class="button"><span>View on GitHub</span></a>
      </section>
    </div>
  </body>
</html>